<ion-header>

  <questionnaire-menu title="น้ำจากสระน้ำ/หนองน้ำ/บึง "></questionnaire-menu>

</ion-header>

<ion-content padding>


  <h3>5.4 น้ำจากสระน้ำ/หนองน้ำ/บึง</h3>

  <form (ngSubmit)="handleSubmit()" [formGroup]="f">

    <ion-card>

      <ion-card-content>
        <ion-item>
          <ion-label>
            5.4.1 ในพื้นที่ที่อยู่อาศัย สวน ไร่ นา สถานประกอบการมีสระน้ำ หนองน้ำ บึง หรือไม่
          </ion-label>
        </ion-item>
        <ion-row radio-group formControlName="isExist">
          <ion-item col-6>
            <ion-radio value="1" item-left></ion-radio>
            <ion-label>มี</ion-label>
          </ion-item>
          <ion-item col-6>
            <ion-radio value="2" item-left></ion-radio>
            <ion-label>ไม่มี</ion-label>
          </ion-item>
          <ion-item *ngIf="isValid('isExist')">
            <span class="invalid-msg">กรุณาเลือก</span>
          </ion-item>
        </ion-row>

        <div [ngSwitch]="f.get('isExist').value">
          <div *ngSwitchCase="1">
            <ion-item>
              <ion-label>
                5.4.2 หาก "มี" มีจำนวนกี่สระ
              </ion-label>
            </ion-item>
            <ion-item formControlName="poolCount">
              <ion-input type="number" placeholder="กรอกจำนวน"></ion-input>
            </ion-item>
            <ion-item *ngIf="isValid('poolCount')">
              <span class="invalid-msg">กรุณากรอกจำนวน</span>
            </ion-item>
            <ion-item>
              <ion-label>
                5.4.3 ขนาดสระน้ำทั้งหมดเท่ากันหรือไม่
              </ion-label>
            </ion-item>
            <ion-row radio-group formControlName="poolEqual">
              <ion-item col-6>
                <ion-radio value="1" item-left></ion-radio>
                <ion-label>เท่ากัน</ion-label>
              </ion-item>
              <ion-item col-6>
                <ion-radio value="2" item-left></ion-radio>
                <ion-label>ไม่เท่า</ion-label>
              </ion-item>
              <ion-item *ngIf="isValid('poolEqual')">
                <span class="invalid-msg">กรุณาเลือก</span>
              </ion-item>
            </ion-row>
          </div>
        </div>

      </ion-card-content>
    </ion-card>

    <div [ngSwitch]="f.get('isExist').value">
      <div *ngSwitchCase="1">

        <div [ngSwitch]="f.get('poolEqual').value">
          <!-- เท่ากัน -->
          <div *ngSwitchCase="1">
            <pool-area headline="สระที่ 1"></pool-area>
          </div>
          <!-- ไม่เท่ากัน -->
          <div *ngSwitchCase="2">
            <pool-area headline="สระที่ 1"></pool-area>
          </div>
        </div>

        <ion-card>
          <ion-card-content>
            <ion-item>
              <ion-label>
                5.4.4 ในรอบ 12 เดือนที่ผ่านมามีกี่สระที่นำน้ำมาใช้
              </ion-label>
            </ion-item>
            <ion-item formControlName="poolCountUsage">
              <ion-input type="number" placeholder="`กรอกจำนวนสระ`"></ion-input>
            </ion-item>
            <ion-item *ngIf="isValid('poolCountUsage')">
              <span class="invalid-msg">กรุณากรอกจำนวน</span>
            </ion-item>
          </ion-card-content>
        </ion-card>

        <!-- <pool-usage  [FormItem]="f.get('poolUsage')"></pool-usage> -->
   

        <div *ngIf="f.get('isExist').value && f.get('poolCount').value > 0">
          <div *ngFor="let p of f.get('poolUsage').controls; let i = index">
            <pool-usage [no]="i + 1" [FormItem]="p"></pool-usage>
          </div>
        </div>

      </div>
    </div>

    <form-buttons-bar></form-buttons-bar>

  </form>
</ion-content>